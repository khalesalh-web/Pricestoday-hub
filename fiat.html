<section class="list-grid" id="fiatList">
  <p data-en="Loading prices..." data-ar="جاري تحميل الأسعار...">Loading prices...</p>
</section>

<script>
  const fiatList = document.getElementById("fiatList");
  const currencies = ["USD","EUR","GBP","JPY","CAD","AUD","CNY","CHF"];

  async function fetchFiatPrices() {
    try {
      fiatList.innerHTML = `<p data-en="Loading prices..." data-ar="جاري تحميل الأسعار...">Loading prices...</p>`;
      const res = await fetch(`https://api.exchangerate.host/latest?base=USD`);
      const data = await res.json();
      fiatList.innerHTML = "";

      currencies.forEach(code => {
        const price = data.rates[code].toFixed(4);
        const card = document.createElement("div");
        card.className = "card fiat";
        card.innerHTML = `<h3>${code}</h3><p>1 USD = ${price} ${code}</p>`;
        fiatList.appendChild(card);
      });
    } catch (error) {
      fiatList.innerHTML = `<p data-en="Failed to load data" data-ar="فشل تحميل البيانات">Failed to load data</p>`;
      console.error(error);
    }
  }

  fetchFiatPrices();
  setInterval(fetchFiatPrices, 60000); // تحديث تلقائي كل دقيقة
</script>
